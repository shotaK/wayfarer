var __spreadArray=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};!function(){var e=!1,t="",n=[],r=[],i="wayfarer-hint-marker-container",o="wayfarer-hint-marker-prefix",l="abcdehijklmnopqrsuvwxyztgf",u=l.length,a=["text","email","number","search","tel","url","password","date","datetime-local","month","week","range"],c=function(){document.querySelectorAll(".".concat(i)).forEach((function(e){return e.remove()}))},d=function(){var e=function(){var e=document.createElement("div");return e.classList.add(i),e}();return document.body.appendChild(e),e},f=function(e){var t=e.key,n=e.className,r=document.createElement("span");return r.classList.add(n),r.innerText=t,r};function s(e){return 1===e.nodeType}function m(e){var t=e.ownerDocument.defaultView;if(!t)throw new Error("cannot check visibility of non attached element");var n=t,r=n.navigator.userAgent.match(/jsdom/i);function i(e){var t=1,r=n.getComputedStyle(e).opacity;r&&(t=Number(r));var o=e.parentElement;return o&&(t*=i(o)),t}function o(e){var t,r=e.getBoundingClientRect(),i=e.ownerDocument,l=i.documentElement,u=i.body,a=n.getComputedStyle(l).overflow;function c(e){var r=n.getComputedStyle(e).position;if("fixed"==r)return t=!0,e==l?null:l;for(var i=e.parentElement;i&&!o(i);)i=i.parentElement;return i;function o(e){return e==l||!n.getComputedStyle(e).display.match(/^inline/)&&("absolute"!=r||"static"!=n.getComputedStyle(e).position)}}function d(e){var t=e;if("visible"==a)if(e==l&&u)t=u;else if(e==u)return{x:"visible",y:"visible"};var r={x:n.getComputedStyle(t).overflowX,y:n.getComputedStyle(t).overflowY};return e==l&&(r.x="visible"==r.x?"auto":r.x,r.y="visible"==r.y?"auto":r.y),r}function f(e){var t,n;return 9===e.nodeType?{x:(null===(t=e.defaultView)||void 0===t?void 0:t.pageXOffset)||0,y:(null===(n=e.defaultView)||void 0===n?void 0:n.pageYOffset)||0}:{x:e.scrollLeft,y:e.scrollTop}}for(var s=c(e);s;s=c(s)){var m=d(s);if("visible"!=m.x||"visible"!=m.y){var v=s.getBoundingClientRect();if(0==v.width||0==v.height)return"hidden";var h=r.right<v.left,y=r.bottom<v.top;if(h&&"hidden"==m.x||y&&"hidden"==m.y)return"hidden";if(h&&"visible"!=m.x||y&&"visible"!=m.y){var p=f(s),g=r.right<v.left-p.x,w=r.bottom<v.top-p.y;return g&&"visible"!=m.x||w&&"visible"!=m.x||"hidden"==o(s)?"hidden":"scroll"}var b=r.left>=v.left+v.width,x=r.top>=v.top+v.height;if(b&&"hidden"==m.x||x&&"hidden"==m.y)return"hidden";if(b&&"visible"!=m.x||x&&"visible"!=m.y){if(t){var E=f(s);if(r.left>=l.scrollWidth-E.x||r.right>=l.scrollHeight-E.y)return"hidden"}return"hidden"==o(s)?"hidden":"scroll"}}}return"none"}function l(e){if("none"==n.getComputedStyle(e).display)return!1;var t=e.parentElement;return!t||l(t)}return function e(t,u){if(void 0===u&&(u=!1),"BODY"===t.tagName)return!0;if("OPTION"===t.tagName||"OPTGROUP"===t.tagName){var a=t.closest("select");return!!a&&e(a,!0)}if("INPUT"===t.tagName&&"hidden"==t.type.toLowerCase())return!1;if("NOSCRIPT"===t.tagName)return!1;var c=n.getComputedStyle(t).visibility;if("collapse"==c||"hidden"==c)return!1;if(!l(t))return!1;if(!u&&0==i(t))return!1;function d(e){var t=e.getBoundingClientRect();return t.height>0&&t.width>0||"hidden"!=n.getComputedStyle(e).overflow&&Array.from(e.childNodes).some((function(e){return 3===e.nodeType||s(e)&&d(e)}))}return!(!r&&!d(t))&&!(!r&&function e(t){return"hidden"==o(t)&&Array.from(t.childNodes).every((function(t){return!s(t)||e(t)||!d(t)}))}(t))}(e)}var v=function(e){var t=e.getBoundingClientRect(),n=t.left+window.scrollX,r=t.top+window.scrollY;return{left:n,top:r,right:n+t.width,bottom:r+t.height}};function h(e){if(!(e instanceof Element))throw Error("DomUtil: elem is not an element.");var t=getComputedStyle(e);if("none"===t.display)return!1;if("visible"!==t.visibility)return!1;if(Number(t.opacity)<.1)return!1;if(e.offsetWidth+e.offsetHeight+e.getBoundingClientRect().height+e.getBoundingClientRect().width===0)return!1;var n={x:e.getBoundingClientRect().left+e.getBoundingClientRect().width/2,y:e.getBoundingClientRect().top+e.getBoundingClientRect().height/2};if(n.x<0)return!1;if(n.x>(document.documentElement.clientWidth||window.innerWidth))return!1;if(n.y<0)return!1;if(n.y>(document.documentElement.clientHeight||window.innerHeight))return!1;var r=v(e),i=r.left,o=r.top,l=r.right,u=r.bottom,a=document.elementFromPoint(n.x,n.y),c=document.elementFromPoint(i,o),d=document.elementFromPoint(l,o),f=document.elementFromPoint(i,u),s=document.elementFromPoint(l,u);do{if([a,s,d,c,f].includes(e))return!0}while(a=null==a?void 0:a.parentNode);return!1}var y=function(e){var t=e.markKey,n=e.topPos,r=e.leftPos,i=e.element,l=document.createElement("div");i instanceof HTMLInputElement&&a.includes(null==i?void 0:i.type)||i instanceof HTMLTextAreaElement||(null==i?void 0:i.isContentEditable)&&i instanceof HTMLSelectElement?l.classList.add("wayfarer-hint-marker--focusable"):l.classList.add("wayfarer-hint-marker--default"),l.classList.add("wayfarer-hint-marker");var u=t.split(""),c=u[0],d=u[1],s=f({key:c,className:o});if(l.appendChild(s),d){var m=f({key:d,className:"wayfarer-hint-marker-postfix"});l.appendChild(m)}return l.style.top="".concat(n,"px"),l.style.left="".concat(r,"px"),l},p=function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},g=function(e){var t=e.start,n=void 0===t?0:t,r=e.end,i=void 0===r?u:r;return l.split("").slice(n,i)},w=function(e){return Math.ceil(e/u)-1},b=function(e){if(!e)return[];var t=g({end:e});if(u>=e)return t;var n=w(e),r=function(e){return Array(e<=676?e:676).fill(0).map((function(e,t){var n=l[u-w(t+1)-1];return"".concat(n).concat(l[t%u])}))}(e-g({end:u-n}).length);return __spreadArray(__spreadArray([],g({end:u-n}),!0),r,!0)},x=function(e){if(!e)return[];var t=Array.from(Array(e>10?10:e),(function(e,t){return String(t)}));return e<=10?t:__spreadArray(__spreadArray([],t,!0),b(e-10),!0)},E=function(e){var t=e.renderPredicate,i=d(),o=x(n.length),l=n.map((function(e,t){var n=v(e);return{sourceElement:e,hintKey:o[t],hintMark:y({markKey:o[t],topPos:n.top,leftPos:n.left,element:e})}})).filter((function(e,n){return!t||t({hintKey:o[n]})}));r=l,l.forEach((function(e){var t=e.hintMark;return i.appendChild(t)}))},C=function(e){var t=e.event,n=e.element,r=e.isShift;if("mouseout"===t){if(null==n)return}else"mouseover"===t&&C({event:"mouseout",element:void 0,isShift:r});var i=new MouseEvent(t,{bubbles:!0,cancelable:!0,composed:!0,view:window,detail:1,ctrlKey:r});if(n)return n.dispatchEvent(i)},S=function(e){for(var t=e.element,n=e.isShift,r=void 0!==n&&n,i=[],o=0,l=["mouseover","mousedown","mouseup","click"];o<l.length;o++){var u=C({event:l[o],element:t,isShift:r});i.push(u)}return i},k=function(){c(),e=!1,t="",r=[],n=[]},A=function(e){var n=e.hintKey;return!(n.length<2)&&n.startsWith(t)},L=function(e){var n=e.prefixKey;t=n,c(),E({renderPredicate:A}),0===r.length?k():document.querySelectorAll(".".concat(o)).forEach((function(e){e.style.opacity="0.3"}))},T=function(e){var t=e.element,n=e.event;t instanceof HTMLAnchorElement?function(e){var t=e.hyperlink,n=e.event.shiftKey;S({element:t,isShift:n})}({hyperlink:t,event:n}):t instanceof HTMLButtonElement||"button"===t.getAttribute("role")?function(e){var t=e.button;S({element:t})}({button:t}):t instanceof HTMLInputElement?function(e){var t=e.input,n=t.type;["button","submit","color","checkbox","radio","file","image","reset"].includes(n)?t.click():a.includes(n)&&setTimeout((function(){t.focus()}),0)}({input:t}):t instanceof HTMLSelectElement?function(e){e.select.focus()}({select:t}):t instanceof HTMLTextAreaElement&&function(e){e.textarea.focus()}({textarea:t})};document.addEventListener("click",(function(e){k()})),document.addEventListener("keydown",(function(i){if(!i.isTrusted)return!1;if(!function(e){var t,n=e.event,r=null==n?void 0:n.target,i=null===(t=null==r?void 0:r.tagName)||void 0===t?void 0:t.toLowerCase();return!("input"!==i||!a.includes(null==r?void 0:r.type))||"textarea"===i||Boolean(null==r?void 0:r.isContentEditable)}({event:i})){var o=function(e){if(void 0===e&&(e=""),e.startsWith("Digit")){var t=e.split("Digit");return t[0],t[1]}if(e.startsWith("Key")){var n=e.split("Key");return n[0],n[1].toLowerCase()}return e.toLowerCase()}(i.code);if(!["ShiftLeft","ShiftRight"].includes(i.code)&&!i.ctrlKey){if(!e)return n=Array.from(document.querySelectorAll('a, button, input, select, textarea, [role="button"]')).filter(m).filter(h).filter(p),void("f"===o&&n.length>0&&(E({}),e=!0));if("Escape"===o)return e=!1,void k();if(t)!function(e){var n=e.postfixKey,i=e.event,o="".concat(t).concat(n),l=r.find((function(e){return e.hintKey===o}));l&&T({element:l.sourceElement,event:i}),k()}({postfixKey:o,event:i});else{var l=function(e){return x(n.length).findIndex((function(t){return t===e}))}(o);if(-1!==l){var u=n[l];u&&T({element:u,event:i}),k()}else L({prefixKey:o})}}}}))}();